kubernetesClusterDomain: cluster.local
namespace: otacd
# MongoDB is deployed separately via otacd-db chart
# Reference the MongoDB service from otacd-db chart
mongodbService:
  # Service name from otacd-db chart (format: <release-name>-mongodb-service)
  # Default assumes release name is "otacd-db"
  name: otacd-db-mongodb-service
  namespace: otacd
  port: 27017
otacdDeployment:
  otacd:
    env:
      flaskSecretKey: change-me-in-prod
      mongoDbName: otacd
      # MONGO_URL - defaults to mongodbService connection, can be overridden
      # Use short service name if in same namespace, or full FQDN for cross-namespace
      # Format: mongodb://<service-name>.<namespace>.svc.<cluster-domain>:<port>
      # Or just: mongodb://<service-name>:<port> if same namespace
      mongoUrl: "mongodb://otacd-db-mongodb-service:27017"
    image:
      repository: 192.168.68.64:5000/otacd
      tag: amd64_0.2.3
    resources:
      limits:
        cpu: "4"
        memory: 3Gi
      requests:
        cpu: "1"
        memory: 1Gi
  replicas: 1
  strategy:
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 1
    type: RollingUpdate
otacdService:
  ports:
    - nodePort: 30092
      port: 80
      protocol: TCP
      targetPort: 5000
  type: NodePort
pvc:
  otacdDataPvc:
    storageClass: ""
    storageRequest: 10Gi
